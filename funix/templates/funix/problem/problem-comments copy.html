{% extends "funix/problem/problem-base.html" %} 

{% block media_child %}
    <link rel="stylesheet" href="{{ static('funix/css/problem-comments.css') }}">
    {% include "comments/media-css.html" %}
    <style>
    .title-state {
        font-size: 2em;
        float: left;
        width: 1.1em;
        display: block;
        margin-top: 0.16em;
    }
    
    .info-float a {
        vertical-align: middle;
    }
    
    .problem-clarification {
        border-bottom: 1px solid #ccc;
        margin-top: 1em;
        margin-bottom: 1em;
    }
    
    .clarifications-area h2 {
        margin-bottom: 20px;
    }
    
    .problem-clarification .body {
        display: inline-block;
        padding-left: 3em;
    }
    
    #content-right {
        max-width: 12.5em;
        min-width: 12.5em;
    }
    
    #problem-types,
    #allowed-langs,
    #available-judges {
        padding-top: 1em;
    }
    
    .problem-info-entry {
        padding-top: 0.5em;
    }
    </style>
{% endblock %}
 
{% block content_js_media %} 
    {% include "comments/media-js.html"%} 
    {% if vote_perm.can_view() %}
        <script src="{{ static('libs/chart.js/Chart.js') }}" type="text/javascript"></script>
        <script src="{{ static('problem-vote.js') }}" type="text/javascript"></script>
    {% endif %} 
{% endblock %} 

{% block problem_content %}
    <div class="main">
        <div class="main-inner">
            {% block title_row %}
                <div class="problem-title">
                    <h3 style="display: inline-block">{{ title }}</h3>
                    {% if problem.is_organization_private %}
                        <span class="organization-tags">
                            {% for org in problem.organizations.all() %}
                                <span class="organization-tag">
                                    <a href="{{ org.get_absolute_url() }}">
                                        <i class="fa fa-lock"></i> {{ org.name }}
                                    </a>
                                </span>
                            {% endfor %}
                        </span>
                    {% endif %} 
                </div>
            {% endblock %} 

            {% if contest_problem and contest_problem.contest.use_clarifications %}
                <div class="clarifications-area">
                    <h2><i class="fa fa-question-circle"></i> {{ _('Clarifications') }}</h2>
                    {% if has_clarifications %} 
                        {% for clarification in clarifications %}
                            <div class="problem-clarification">
                                <div class="time">{{ relative_time(clarification.date) }}</div>
                                <span class="body">
                                    {{ clarification.description|markdown('problem', MATH_ENGINE)|reference }}
                                </span>
                            </div>
                        {% endfor %} 
                    {% else %}
                        <p class="no-comments-message">
                            {{ _('No clarifications have been made at this time.') }}
                        </p>
                    {% endif %}
                </div>
            {% else %} 
                {% include "comments/list.html" %} 
            {% endif %} 

            {% block bodyend %} 
                {{ super() }} 
                {% include "comments/math.html" %} 
            {% endblock %}
        </div>
    </div>
{% endblock %}